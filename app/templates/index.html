{% extends "base.html" %}

{% block head %} 
    <title> PSUTIL-DASHBOARD </title>
{% endblock %}

{% block body %}
    <!-- System Information -->
    <div class="col-lg-4">
        <div class="card bg-dark text-white">
            <div class="d-flex card-header justify-content-between">
                <h5>System Information</h5>
                <h5>
                    {% if context.platform_info['os_name'] != 'unknown' %}
                        <i class="fa-brands fa-{{context.platform_info['os_name']}}"></i>
                    {% else %}
                        <i class="fa-brands fa-question"></i>
                    {% endif %}
                </h5>
            </div>
            <div class="card-body">
                <table class="table table-hover text-left table-dark text-muted">
                    <tr>
                        <td scope="row"> Hostname: </td>
                        <td> {{ context.platform_info['node_name'] }} </td>
                    </tr>
                    <tr>
                        <td scope="row"> Operating System: </td>
                        {% if context.platform_info['os_name'] == 'apple' %}
                            <td> macOS </td>
                        {% else %}
                            <td> {{ context.platform_info['os_name']|title }} </td>
                        {% endif %}
                        
                    </tr>
                    <tr>
                        <td scope="row"> System Name: </td>
                        <td> {{ context.platform_info['system_name'] }} </td>
                    </tr>
                    <tr>
                        <td scope="row"> Release: </td>
                        <td> {{ context.platform_info['release_version'] }} </td>
                    </tr>
                    <tr>
                        <td scope="row"> Architecture: </td>
                        <td> {{ context.platform_info['architecture'] }} </td>
                    </tr>
                    <tr>
                        <td scope="row"> Processor Type: </td>
                        <td> {{ context.platform_info['processor_type'] }} </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <!-- Power Information -->
    <div class="col-lg-4">
        <div class="card bg-dark text-white">
            <div class="d-flex card-header justify-content-between">
                <h5>Power Information</h5>
                <h5>
                    {% if context.power_info['power_source'] == 'Battery Power' %}
                        {% if context.power_info['percent'] <= 25 %}
                            <i class="fa-solid fa-battery-quarter text-danger"></i>
                        {% elif (context.power_info['percent'] >=25 and context.power_info['percent'] <= 50) %}
                            <i class="fa-solid fa-battery-half"></i>
                        {% else %}
                            <i class="fa-solid fa-battery-three-quarters text-success"></i>
                        {% endif %}
                    {% else %}
                        <i class="fa-solid fa-plug-circle-bolt text-success"></i>
                    {% endif %}
                </h5>
            </div>
            <div class="card-body">
                <table class="table table-hover text-left table-dark text-muted">
                    <tr>
                        <td scope="row"> Percentage: </td>
                        <td> {{ context.power_info['percent'] }} % </td>
                    </tr>
                    <tr>
                        <td scope="row"> Time Remaining: </td>
                        <td> {{ context.power_info['time_remaining'] }} </td>
                    </tr>
                    <tr>
                        <td scope="row"> Source: </td>
                        <td> {{ context.power_info['power_source'] }} </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
{% endblock %}

{% block script %} 
<script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha384-GNFwBvfVxBkLMJpYMOABq3c+d3KnQxudP/mGPkzpZSTYykLBNsZEnG2D9G/X/+7D" crossorigin="anonymous" async></script>
{% endblock %}